(function(t){function e(e){for(var i,a,r=e[0],c=e[1],u=e[2],d=0,h=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&h.push(o[a][0]),o[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(h.length)h.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(i=!1)}i&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},o={app:0},s=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/simple-keyboard/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},2395:function(t,e,n){},"4bac":function(t,e,n){"use strict";n("76e9")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],a=(n("7c55"),n("2877")),r={},c=Object(a["a"])(r,o,s,!1,null,null,null),u=c.exports,l=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[t.isMobile()?t._e():n("div",{staticClass:"container-home"},[n("recorder",{staticClass:"recorder"}),n("control-sliders",{staticClass:"control-sliders"}),n("control-buttons",{staticClass:"control-buttons"}),n("octave-indicator",{staticClass:"octave-indicator"}),n("keyboard",{staticClass:"keyboard"})],1),t.isMobile()?n("div",{staticClass:"mobile"},[n("recorder",{staticClass:"recorder"}),n("control-sliders",{staticClass:"control-sliders"}),n("control-buttons",{staticClass:"control-buttons"}),n("octave-indicator",{staticClass:"octave-indicator"}),n("keyboard",{staticClass:"keyboard"})],1):t._e()])},h=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[t.isMobile()?n("div",{staticClass:"container-keyboard"},t._l(t.curNoteList,(function(e){return n("div",{key:e[0],staticClass:"scale"},t._l(e,(function(e){return n("div",{key:e,staticClass:"key-container",on:{touchstart:function(n){return t.noteOn(e)},touchend:function(n){return t.noteOff(e)}}},[-1==e.indexOf("#")?n("div",{staticClass:"key-white",class:{click:t.isClicked(e)}}):n("div",{staticClass:"key-black",class:{blackClick:t.isClicked(e)}})])})),0)})),0):n("div",{staticClass:"container-keyboard"},t._l(t.curNoteList,(function(e){return n("div",{key:e[0],staticClass:"scale"},t._l(e,(function(e){return n("div",{key:e,staticClass:"key-container",on:{mousedown:function(n){return t.noteOn(e)},mouseup:function(n){return t.noteOff(e)}}},[-1==e.indexOf("#")?n("div",{staticClass:"key-white",class:{click:t.isClicked(e)}}):n("div",{staticClass:"key-black",class:{blackClick:t.isClicked(e)}})])})),0)})),0)])},v=[],m=(n("4de4"),n("c975"),n("fb6a"),n("a9e3"),n("d3b7"),n("ac1f"),n("3ca3"),n("1276"),n("ddb0"),n("2b3d"),n("96cf"),n("1da1")),p=n("5e54"),b={z:"C",s:"C#",x:"D",d:"D#",c:"E",v:"F",g:"F#",b:"G",h:"G#",n:"A",j:"A#",m:"B"},y=[["C1","C#1","D1","D#1","E1","F1","F#1","G1","G#1","A1","A#1","B1"],["C2","C#2","D2","D#2","E2","F2","F#2","G2","G#2","A2","A#2","B2"],["C3","C#3","D3","D#3","E3","F3","F#3","G3","G#3","A3","A#3","B3"],["C4","C#4","D4","D#4","E4","F4","F#4","G4","G#4","A4","A#4","B4"],["C5","C#5","D5","D#5","E5","F5","F#5","G5","G#5","A5","A#5","B5"],["C6","C#6","D6","D#6","E6","F6","F#6","G6","G#6","A6","A#6","B6"],["C7","C#7","D7","D#7","E7","F7","F#7","G7","G#7","A7","A#7","B7"]],C={name:"Keyboard",data:function(){return{notesList:y,playNotes:[],curSynth:null,mouseClicked:!1,sustain:!1,distortion:!1,autoWah:!1,autoWahNode:null,distortionNode:null,curOctave:2,curVolume:-6,curSustain:.3,curRelease:1,autoWahChannel:null,distortionChannel:null,busChannel:null,recording:!1,play:!1,player:null,recorder:null,recordContent:null}},computed:{isClicked:function(){var t=this;return function(e){var n=-1!=t.playNotes.indexOf(e);return n}},curNoteList:function(){return this.notesList.slice(this.curOctave,this.curOctave+3)}},watch:{autoWah:function(){this.autoWah?(this.autoWahChannel.volume.value=this.curVolume,p["c"].volume.value=this.curVolume):(this.autoWahChannel.volume.value=-60,p["c"].volume.value=this.curVolume)},distortion:function(){this.distortion?(this.distortionChannel.volume.value=this.curVolume,p["c"].volume.value=this.curVolume):(this.distortionChannel.volume.value=-60,p["c"].volume.value=this.curVolume)},curVolume:function(){p["c"].volume.value=this.curVolume},curSustain:function(){this.setParameter()},curRelease:function(){this.setParameter()},recording:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.recording){e.next=5;break}p["c"].connect(t.recorder),t.recorder.start(),e.next=12;break;case 5:if(t.recording){e.next=12;break}return e.next=8,t.recorder.stop();case 8:n=e.sent,t.recordContent=URL.createObjectURL(n),t.bus.$emit("download",t.recordContent),t.player=new p["e"](t.recordContent).toDestination();case 12:case"end":return e.stop()}}),e)})))()},play:function(){this.play&&this.player.start()},isMobile:function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},created:function(){document.onkeydown=this.onKeydown,document.onkeyup=this.onKeyup,p["i"].lookAhead=0,this.curSynth=new p["f"](p["h"],{maxPolyphony:16}),this.setParameter(),this.createEffectNode(),this.recorder=new p["g"]},methods:{createEffectNode:function(){this.autoWahNode=new p["a"](50,6,-30).toDestination(),this.autoWahNode.Q.value=6,this.autoWahChannel=new p["b"]({volume:-60}).connect(this.autoWahNode),this.autoWahChannel.receive("autoWahNode"),this.distortionNode=new p["d"](1).toDestination(),this.distortionChannel=new p["b"]({volume:-60}).connect(this.distortionNode),this.distortionChannel.receive("distortionNode"),this.busChannel=new p["b"]({volume:-6}).toDestination(),this.busChannel.send("autoWahNode"),this.busChannel.send("distortionNode"),this.curSynth.connect(this.busChannel),p["c"].volume.value=this.curVolume,this.setBusCallback()},setBusCallback:function(){var t=this;this.bus.$on("setOctave",(function(e){t.curOctave=Number(e)})),this.bus.$on("setSustain",(function(e){t.curSustain=Number(e)})),this.bus.$on("setVolume",(function(e){t.curVolume=Number(e)})),this.bus.$on("setRelease",(function(e){t.curRelease=Number(e)})),this.bus.$on("onSustain",(function(e){t.sustain=e})),this.bus.$on("onAutoWah",(function(e){t.autoWah=e})),this.bus.$on("onDistortion",(function(e){t.distortion=e})),this.bus.$on("onDistortion",(function(e){t.distortion=e})),this.bus.$on("onRecord",(function(e){t.recording=e})),this.bus.$on("onPlay",(function(e){t.play=e}))},setParameter:function(){this.curSynth.set({volume:this.curVolume,oscillator:{partialCount:0,phase:0,type:"triangle"},envelope:{attack:.005,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:this.curRelease,releaseCurve:"exponential",sustain:this.curSustain}})},noteOn:function(t){-1===this.playNotes.indexOf(t)&&(this.playNotes.push(t),this.sustain?this.curSynth.triggerAttack(t):this.curSynth.triggerAttackRelease(t,.015+this.curSustain))},noteOff:function(t){this.curSynth.triggerRelease(t),this.playNotes=this.playNotes.filter((function(e){return e!==t}))},onKeydown:function(t){this.mouseClicked=!0;var e=t.key;if(Object.prototype.hasOwnProperty.call(b,e)){var n=b[e]+this.curNoteList[0][0].split("")[1];this.noteOn(n)}"]"===e&&this.curOctave<4&&(this.curOctave++,this.bus.$emit("updateOctave",this.curOctave)),"["===e&&this.curOctave>0&&(this.curOctave--,this.bus.$emit("updateOctave",this.curOctave))},onKeyup:function(t){this.mouseClicked=!1;var e=t.key;if(Object.prototype.hasOwnProperty.call(b,e)){var n=b[e]+this.curNoteList[0][0].split("")[1];this.noteOff(n)}},isMobile:function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}}},O=C,k=(n("f59b"),Object(a["a"])(O,f,v,!1,null,"0da1d708",null)),w=k.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-oct"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.curOctave,expression:"curOctave"}],staticClass:"slider",attrs:{type:"range",min:"0",max:"4"},domProps:{value:t.curOctave},on:{__r:function(e){t.curOctave=e.target.value}}})])},S=[],A={name:"OctaveIndicator",data:function(){return{curOctave:2}},created:function(){var t=this;this.curOctave=2,this.bus.$on("updateOctave",(function(e){t.curOctave=e}))},watch:{curOctave:function(){this.bus.$emit("setOctave",this.curOctave)}}},x=A,_=(n("cc45"),Object(a["a"])(x,g,S,!1,null,"2197e2a8",null)),P=_.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control-sliders"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.curSustain,expression:"curSustain"}],staticClass:"slider",attrs:{type:"range",min:"0",max:"1",step:"any"},domProps:{value:t.curSustain},on:{__r:function(e){t.curSustain=e.target.value}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.curRelease,expression:"curRelease"}],staticClass:"slider",attrs:{type:"range",min:"0",max:"5",step:"any"},domProps:{value:t.curRelease},on:{__r:function(e){t.curRelease=e.target.value}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.curVolume,expression:"curVolume"}],staticClass:"slider",attrs:{type:"range",min:"-10",max:"10",step:"any"},domProps:{value:t.curVolume},on:{__r:function(e){t.curVolume=e.target.value}}})])},$=[],D={name:"ControlSliders",data:function(){return{curSustain:.3,curRelease:1,curVolume:-6}},created:function(){this.curSustain=.3,this.curVolume=-6,this.curRelease=1},watch:{curSustain:function(){this.bus.$emit("setSustain",this.curSustain)},curVolume:function(){this.bus.$emit("setVolume",this.curVolume)},curRelease:function(){this.bus.$emit("setRelease",this.curRelease)}},methods:{}},W=D,R=(n("79e9"),Object(a["a"])(W,N,$,!1,null,"a8f6e8f0",null)),E=R.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control-buttons"},[n("div",{staticClass:"button",class:{clicked:t.ifSustain},on:{click:t.onSustain}}),n("div",{staticClass:"button",class:{clicked:t.ifAutoWah},on:{click:t.onAutoWah}}),n("div",{staticClass:"button",class:{clicked:t.ifDistortion},on:{click:t.onDistortion}})])},j=[],B={name:"ControlButtons",data:function(){return{ifSustain:!1,ifAutoWah:!1,ifDistortion:!1}},created:function(){},watch:{ifSustain:function(){this.bus.$emit("onSustain",this.ifSustain)},ifAutoWah:function(){this.bus.$emit("onAutoWah",this.ifAutoWah)},ifDistortion:function(){this.bus.$emit("onDistortion",this.ifDistortion)}},methods:{onSustain:function(){this.ifSustain=!this.ifSustain},onAutoWah:function(){this.ifAutoWah=!this.ifAutoWah},onDistortion:function(){this.ifDistortion=!this.ifDistortion}}},M=B,F=(n("ff97"),Object(a["a"])(M,V,j,!1,null,"1d8fa708",null)),G=F.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recorder-buttons"},[t.downloadUrl?n("a",{staticClass:"download-button",attrs:{href:t.downloadUrl,download:"recording.webm"}}):t._e(),n("div",{staticClass:"recorder-button",class:{clicked:t.recording},on:{click:t.onRecord}}),n("div",{staticClass:"player-button",class:{clicked:t.play},on:{click:t.onPlay}})])},I=[],K={name:"Recorder",data:function(){return{recording:!1,play:!1,downloadUrl:""}},created:function(){var t=this;this.bus.$on("download",(function(e){t.downloadUrl=e}))},watch:{recording:function(){this.bus.$emit("onRecord",this.recording)},play:function(){this.bus.$emit("onPlay",this.play)}},methods:{onRecord:function(){this.recording=!this.recording},onPlay:function(){this.play=!this.play}}},U=K,z=(n("d5cb"),Object(a["a"])(U,L,I,!1,null,"351e7da8",null)),H=z.exports,T={name:"Home",components:{Keyboard:w,OctaveIndicator:P,ControlSliders:E,ControlButtons:G,Recorder:H},methods:{isMobile:function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}}},J=T,Q=(n("4bac"),Object(a["a"])(J,d,h,!1,null,"25844366",null)),q=Q.exports;i["a"].use(l["a"]);var X=[{path:"/",name:"Home",component:q}],Y=new l["a"]({mode:"history",base:"/simple-keyboard/",routes:X}),Z=Y,tt=n("2f62");i["a"].use(tt["a"]);var et=new tt["a"].Store({state:{},mutations:{},actions:{},modules:{}});i["a"].config.productionTip=!1,i["a"].prototype.bus=new i["a"],new i["a"]({router:Z,store:et,render:function(t){return t(u)}}).$mount("#app");var nt=function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},it=function(){var t=document.getElementsByTagName("html")[0],e=document.documentElement.clientWidth||document.body.clientWidth;if(e>=1920&&!nt()&&(e=1920,t.style.fontSize="".concat(e/1920*10,"px")),nt()){var n=document.documentElement.clientHeight||document.body.clientHeight;t.style.fontSize="".concat(n/1920*13,"px")}};window.onresize=it,it()},"722c":function(t,e,n){},"76e9":function(t,e,n){},"79e9":function(t,e,n){"use strict";n("be00")},"7c55":function(t,e,n){"use strict";n("2395")},8425:function(t,e,n){},"9ce6":function(t,e,n){},be00:function(t,e,n){},cc45:function(t,e,n){"use strict";n("8425")},d5cb:function(t,e,n){"use strict";n("9ce6")},ee48:function(t,e,n){},f59b:function(t,e,n){"use strict";n("ee48")},ff97:function(t,e,n){"use strict";n("722c")}});
//# sourceMappingURL=app.0164ff3b.js.map